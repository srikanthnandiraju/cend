<div class="flexy">
    <div class="ui segment very raised center aligned animated bounceInUp" style="color:white;width:275px;margin: auto;text-align: center;background: #efefef;border-radius:10px">
        <div class="ui form">
            <div class="field">
                <label class="ui tiny orange label show-label" onclick="showAdditionalInputs()">chick
                    here to customize
                    message</label>
            </div>
            <div class="field full-param">
                <input type="text" id="cend-to" placeholder="receiver name">
            </div>
            <div class="field full-param">
                <textarea rows="2" id="cend-message" placeholder="Enter message"></textarea>
            </div>
            <div class="field">
                <input type="text" id="cend-from" placeholder="your name">
            </div>
            <div class="field center aligned">
                <div style="text-align:center;">
                    <button class="ui button blue" id="preview-button">Preview</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    function showAdditionalInputs() {
        $('.full-param').show();
        $('.show-label').remove();
    }

    $(function() {
        $(".full-param").hide();
        togglePause();
        $("#preview-button").off('click').on('click', function() {
            var to = $("#cend-to").val();
            var message = $("#cend-message").val();
            var from = $("#cend-from").val();
            var card_payload = {
                to: to,
                message: message,
                from: from
            };
            //App.Events.emit("card-edited", card_payload);
            //App.FullScreen.hide();
            var base_string = window.location.href;
            base_string = base_string.substring(0, base_string.indexOf("?") + 1);
            window.location.href = base_string + $.param(card_payload);

        });
    });
</script>